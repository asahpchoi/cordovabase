{{error | json}}

<div style="display:flex">
  <div style="width:80%">
    <div>
      <button mat-raised-button (click)="cancel()">Cancel</button>
      <button mat-raised-button (click)="close()">Confirm</button>
      <button mat-raised-button (click)="undoFA()" [disabled]="FA.length == 0">Undo</button>
      <button mat-raised-button (click)="redoFA()" [disabled]="redolist.length == 0">Redo</button>
    </div>
    <div class="tablediv">
      <h2>Fund Activities</h2>
      <table>
        <tr style="display:sticky">
          <th>Year / Age </th>
          <th>Face Amount (colBasePlanFaceAmount)</th>
          <th>Annualized Total Payment (colTotalPremium) </th>
          <th>Modal Total Payment (colRegularPayment)</th>
          <th>Annaulized Base Premium (colPremium)</th>
          <th>Modal Base Premium (colPremium and need to be changed)</th>
          <th>Withdrawal (colWithdrawalLocal)</th>
          <th>Account Value High (colAccountHigh)</th>
          <th>Account Value Low (colAccountLow)</th>
          <th>Account Value Medium (colAccountMedium)</th>
        </tr>
        <tr *ngFor="let row of defVals">
          <td [id]="row.year + '_year'">
            {{showValue(row, 'year').value }} / {{showValue(row, 'age').value -1 }}
          </td>
          <td [id]="row.year + '_faceAmount'" (click)="modifyFA(row.year, 'faceAmount', row.age)" [ngClass]="showValue(row, 'faceAmount', row.age, row.year).class">
            {{showValue(row, 'faceAmount', row.age).value}}
          </td>
          <td [id]="row.year + '_annualizedregularPayment'">
            {{showValue(row, 'annualizedregularPayment').value}}
          </td>
          <td [id]="row.year + '_regularPayment'" (click)="modifyFA(row.year, 'regularPayment', row.age)" [ngClass]="showValue(row, 'regularPayment', row.age, row.year).class">
            {{showValue(row, 'regularPayment', row.age).value}}
          </td>
          <td [id]="row.year + '_annualizedplannedPremium'">
            {{showValue(row, 'annualizedplannedPremium').value}}
          </td>
          <td [id]="row.year + '_plannedPremium'" (click)="modifyFA(row.year, 'plannedPremium', row.age)" [ngClass]="showValue(row, 'plannedPremium', row.age, row.year).class">
            {{showValue(row, 'plannedPremium', row.age).value}}
          </td>
          <td [id]="row.year + '_withdrawal'" (click)="modifyFA(row.year, 'withdrawal', row.age)" [ngClass]="showValue(row, 'withdrawal', row.age, row.year).class">
            {{showValue(row, 'withdrawal', row.age).value}}
          </td>
          <td [id]="row.year + '_AccountHigh'">
            {{showValue(row, 'AccountHigh').value}}
          </td>
          <td [id]="row.year + '_AccountLow'">
            {{showValue(row, 'AccountLow').value}}
          </td>
          <td [id]="row.year + '_AccountMedium'">
            {{showValue(row, 'AccountMedium').value}}
          </td>
        </tr>
      </table>
    </div>
  </div>
  <div>
    <h2>Input Change</h2>
    <pre>
      {{FA|json}}
    </pre> =====================
    <h2>Undo list</h2>
    <pre>
      {{redolist|json}}
    </pre> =====================
    <h2>Fund Activity</h2>
    <pre>
        {{fundAct|json}}
    </pre>
  </div>
</div>